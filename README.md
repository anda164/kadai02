# 課題02 じゃんけんアプリ　リッチ
## ①課題内容（Javascript/JQuery）
- バーコードを読み、取得された商品金額を積み重ね、合計獲得距離とコース長が等しくなったらCupInとするバーコード使用型お買い物ゲーム
　　　　※ジャンケンゲームの追加機能拡充
## ②工夫した点・こだわった点
- 商品管理用に専用の簡易画面を作成し、コード入力や商品名、金額といった試験データの取得をスムーズに行えるようにした（Firebase使用）
- スキャンしたコードをキーにして、各種値を取得する機能を追加した。(Firebase使用)
- スキャンの回数などの外部環境はローカルストレージに一時保存する形で実装した
- パラメータ設定からアプリの終了、商品管理画面まで、一連の動作を３画面に分割し、画面遷移の処理を実装した
## ③質問・疑問
- 特に、Firebaseとデータ連動する箇所において、import処理を行う場所やドメインの不一致（https://　とfile///）の問題により、異なるjsファイルに読み出す作りが実装できなかった。特にDBへの接続など複数の画面に共通で発生する処理はモジュール化し処理を共通化したかったが、ローカルブラウザのみでの実行でCORS制約に幾度となく阻まれたため、ファイル切り出しを断念し、各HTML毎に処理を記述した。
- スキャン読み込み処理にまつわるJavaScriptの動作とHTML描画のタイミングが必ずしもコード通りにならないため、タイミング調整のため、敢えてalertのメッセージを入れるなど、タイミング調整に苦労した

## ④その他（感想、シェアしたいことなんでも）
- 上記、CORS制約にはじまり、importが書ける場所や一般的な処理の記述が受け付けられないなど諸々の制約があり、本来、共通化して１箇所でまとめて書くべき処理をそれぞれのhtml上で書いたので、かなり汚いコードになってしまった。 このCORS制約の問題の解決法のひとつに、「サーバーで実行する」というものがあったので、先々サーバー上で開発を行うことになった場合にこの問題の対応も見てみたい。


